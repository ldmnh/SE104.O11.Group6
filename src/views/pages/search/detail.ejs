<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,300,0..1,0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
    <link rel="stylesheet" href="/styles/pages/search/detail.css" />
    <title>2WAYS.com</title>
</head>

<body>
    <main class="content-container">
        <section class="title">
            <h1><%=accoDetail[0].acco_name%></h1>
            <div class="title__frame">
                <div class="title__info info">
                    <div class="info__slogan"><%=accoDetail[0].acco_logan%></div>
                    <div class="info__category">
                        <div class="info__acco-type"><%=accoDetail[0].acco_type%></div>
                        <div class="info__rank">
                            <% for (let i = 0; i < accoDetail[0].acco_star; i++) {%>
                            <span class="material-symbols-outlined">grade</span>
                            <%}%>
                            <% for (let i = 0; i < 5-(accoDetail[0].acco_star) ; i++) {%>
                            <span class="material-symbols-outlined"
                                style="font-variation-settings: 'FILL' 0">star</span>
                            <%}%>
                        </div>

                    </div>
                    <div class="info__location">
                        <span class="material-symbols-outlined">location_on</span>
                        <p><%=accoDetail[0].acco_exac_location%></p>
                        </div>
                    </div>
                    <div class="title__btn">
                        <a class="btn" href="#room-list" role="button">Chọn phòng</a>
                    </div>
                </div>
        </section>

        <section class="preview">
            <% if (!accoImg[0]) {%>
                <p> Không có ảnh </p>
            <%} else {%>
                <img src="/imgs/accommodation/<%=accoImg[0].acco_img_url%>" alt="<%=accoImg[0].acco_img_url%>"
                class="preview--big" />
            
            <div class="preview--small">
                <%for (let i = 1; i < 4; i++){ %>
                <img src="/imgs/accommodation/<%=accoImg[i].acco_img_url%>" alt="<%=accoImg[i].acco_img_url%>" />
                <%}%>
            <%}%>
            </div>
        </section>

        <section class="short-info">
            <div class="short-info__intro">
                <h2>Giới thiệu</h2>
                <p>
                    <%=accoDetail[0].acco_detail%>
                </p>
            </div>
            <div class="short-info__feature feature">
                <h2>Đặc điểm nổi bật</h2>
                <div class="feature__group">
                    <%accoFea.forEach(function(feature){%>
                    <div class="feature__item">
                        <span class="material-symbols-outlined">
                            <% switch (feature.fea_id) {
                                case 1 : %>
                                beach_access
                                <% break;
                                    
                                case 2 : %>
                                yard
                                <% break;
                                    
                                case 3 : %>
                                local_parking
                                <% break;
                                
                                case 4 : %>
                                lock
                                <% break;

                                case 5 : %>
                                elevator
                                <% break;

                                case 6 : %>
                                pool
                                <% break;

                                case 7 : %>
                                wifi
                                <% break;

                                default : %>
                                done
                                <% break;
                                    
                            } %>
                        </span>
                        <p><%=feature.fea_name%></p>
                    </div>
                    <%})%>
                </div>
            </div>
        </section>

        <section class="room-list" id="room-list">
            <form action="/search/<%= accoDetail[0].acco_id %>" method="POST">
                <input type="hidden" value="<%= accoDetail[0].acco_id %>" name="acco_id" class="form-control">
                <% accoRoom.forEach(function(room) {%>
                    <input type="hidden" value="<%= room.room_id %>" name="room_id" class="form-control">
                    <input type="hidden" value="<%= room.room_cost %>" name="room_cost_before" class="form-control">
                    <input type="hidden" value="<%= room.room_cost_after%>" name="room_cost_after" class="form-control">
                <%- include('../../components/room', {room}) %>
                <%})%>
                <h2 class="room-list__local-price">Tổng tiền: <span class="highlight">VND 1.500.000</span>
                </h2>
                <div class="room-list__submit">
                    <button type="submit" class="btn room-list__submit-button">Đặt phòng</button>
                </div>
            </form>
        </section>

        <section class="general-info">
            <div class="general-info--left">
                <h2>Thông tin chung</h2>
                <img src="/imgs/accommodation/accommodation_1.jpg" alt="" />
            </div>
            <div class="general-info--right">
                <div class="general-info__time time">
                    <span class="material-symbols-outlined">schedule</span>
                    <div class="time__text">
                        <p class="time__text--top">Thời gian nhận/trả phòng</p>
                        <div class="time__text--bottom">
                            <p>Giờ nhận phòng: Từ 16:00</p>
                            <p>Giờ trả phòng: Trước 16:00</p>
                        </div>
                    </div>
                </div>
                <div class="general-info__item bg-gray">
                    <p class="general-info__item--left">Tiện ích chung</p>
                    <p class="general-info__item--right">
                        <% accoRoom.forEach(function(room) {%>
                            <% room.extension.forEach(function(extension){%>
                                <%=extension.exte_name%>,&nbsp
                            <% }) %> 
                        <%})%>
                    </p>
                </div>
                <div class="general-info__item">
                    <p class="general-info__item--left">
                        Khoảng cách đến trung tâm thành phố
                    </p>
                    <p class="general-info__item--right">100km</p>
                </div>
                <div class="general-info__item bg-gray">
                    <p class="general-info__item--left">Điểm đến phổ biến</p>
                    <p class="general-info__item--right">
                        Biển Mỹ Khê, Sân bay quốc tế Đà Nẵng (DAD), Chùa Linh Ứng
                    </p>
                </div>
                <div class="general-info__item">
                    <p class="general-info__item--left">Bữa sáng</p>
                    <p class="general-info__item--right">Miễn phí</p>
                </div>
            </div>
        </section>
        <% if(!accoRoomRating[0]) {%>
            <p>Không có nhận xét</p>
        <%} else {%>
            <% accoRoomRating.forEach(function(rating){ %>
                <%- include('../../components/comment', {rating}) %>
            <%})%>
        <%}%>
        
    </main>

    <%- include('../../partials/footer') %>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous">
    </script>
    <script src="/scripts/room.js"></script>
    <script src="/scripts/header-small.js"></script>
</body>

</html>